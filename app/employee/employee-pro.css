:root {
    --bg0: #06080f;
    --bg1: #0b1020;
    --bg2: #0b142c;
    --card: rgba(255, 255, 255, .06);
    --card2: rgba(255, 255, 255, .045);
    --stroke: rgba(255, 255, 255, .14);
    --stroke2: rgba(255, 255, 255, .10);
    --text: #eef3ff;
    --muted: rgba(238, 243, 255, .72);

    --blue: #4ea3ff;
    --cyan: #42f6e7;
    --gold: #ffd66a;
    --ok: #39e58c;
    --warn: #ffd66a;
    --bad: #ff5a7a;

    --shadow: 0 28px 90px rgba(0, 0, 0, .55);
    --shadow2: 0 16px 50px rgba(0, 0, 0, .45);

    --r16: 16px;
    --r18: 18px;
    --r22: 22px;

    --font: "Tajawal", system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

* {
    box-sizing: border-box;
}

html,
body {
    height: 100%;
}

body {
    margin: 0;
    font-family: var(--font);
    color: var(--text);
    background:
        radial-gradient(1200px 800px at 15% 10%, rgba(78, 163, 255, .22), transparent 55%),
        radial-gradient(900px 600px at 70% 15%, rgba(66, 246, 231, .18), transparent 52%),
        radial-gradient(1200px 900px at 60% 85%, rgba(255, 214, 106, .10), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1) 45%, var(--bg0));
    overflow-x: hidden;
}

a {
    color: inherit;
    text-decoration: none;
}

.hidden {
    display: none !important;
}

/* ---------- glass card ---------- */
.glass {
    background: linear-gradient(180deg, var(--card), var(--card2));
    border: 1px solid var(--stroke2);
    box-shadow: var(--shadow2);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
}

.card {
    border-radius: var(--r22);
}

/* ---------- topbar ---------- */
.topbar-pro {
    position: sticky;
    top: 0;
    z-index: 40;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 18px;
    padding: 14px 18px;
    background: rgba(6, 8, 15, .55);
    border-bottom: 1px solid rgba(255, 255, 255, .10);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
}

.brand {
    display: flex;
    align-items: center;
    gap: 12px;
}

.brand .mark {
    width: 36px;
    height: 36px;
    border-radius: 12px;
    display: grid;
    place-items: center;
    background: linear-gradient(180deg, rgba(78, 163, 255, .35), rgba(66, 246, 231, .18));
    border: 1px solid rgba(255, 255, 255, .14);
    box-shadow: 0 12px 30px rgba(0, 0, 0, .35);
}

.brand .txt .title {
    font-weight: 800;
    letter-spacing: .2px;
}

.brand .txt .sub {
    font-size: 12px;
    color: var(--muted);
    margin-top: 2px;
}

.nav {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 6px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .04);
}

.navlink {
    padding: 9px 12px;
    border-radius: 999px;
    font-weight: 600;
    color: rgba(238, 243, 255, .82);
    transition: .2s ease;
}

.navlink:hover {
    background: rgba(255, 255, 255, .06);
}

.navlink.active {
    background: linear-gradient(180deg, rgba(78, 163, 255, .20), rgba(66, 246, 231, .10));
    border: 1px solid rgba(78, 163, 255, .22);
    color: var(--text);
}

.right {
    display: flex;
    align-items: center;
    gap: 10px;
}

.pill {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .04);
    color: rgba(238, 243, 255, .78);
    font-size: 12px;
}

.dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--ok);
    box-shadow: 0 0 0 5px rgba(57, 229, 140, .12), 0 0 18px rgba(57, 229, 140, .35);
}

.iconbtn {
    width: 40px;
    height: 40px;
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, .12);
    background: rgba(255, 255, 255, .05);
    color: var(--text);
    cursor: pointer;
    transition: .2s ease;
}

.iconbtn:hover {
    transform: translateY(-1px);
    background: rgba(255, 255, 255, .07);
}

/* ---------- hero ---------- */
.hero-pro {
    position: relative;
    padding: 22px 18px 18px;
}

.hero-bg {
    position: absolute;
    inset: 0;
    background:
        radial-gradient(900px 600px at 20% 10%, rgba(78, 163, 255, .18), transparent 55%),
        radial-gradient(900px 600px at 70% 20%, rgba(66, 246, 231, .14), transparent 55%),
        radial-gradient(1100px 700px at 60% 100%, rgba(255, 214, 106, .10), transparent 55%);
    opacity: .9;
    pointer-events: none;
}

.hero-grid {
    position: relative;
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1.4fr .9fr;
    gap: 14px;
}

.identity {
    padding: 16px;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, .12);
}

.identity::before {
    content: "";
    position: absolute;
    inset: -2px;
    background:
        radial-gradient(600px 220px at 22% 0%, rgba(78, 163, 255, .22), transparent 60%),
        radial-gradient(520px 220px at 78% 10%, rgba(66, 246, 231, .16), transparent 55%),
        radial-gradient(760px 240px at 65% 110%, rgba(255, 214, 106, .12), transparent 60%);
    filter: blur(18px);
    opacity: .9;
    pointer-events: none;
}

.identity>* {
    position: relative;
    z-index: 2;
}

.identity-head {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
}

.avatar {
    width: 56px;
    height: 56px;
    border-radius: 18px;
    display: grid;
    place-items: center;
    font-weight: 900;
    background: linear-gradient(180deg, rgba(78, 163, 255, .28), rgba(66, 246, 231, .14));
    border: 1px solid rgba(255, 255, 255, .14);
    box-shadow: 0 20px 50px rgba(0, 0, 0, .45);
}

.name {
    font-size: 22px;
    font-weight: 900;
    letter-spacing: .2px;
}

.meta {
    margin-top: 4px;
    color: rgba(238, 243, 255, .72);
    font-size: 13px;
}

.sep {
    opacity: .35;
    padding: 0 6px;
}

.rank {
    text-align: left;
    min-width: 220px;
}

.badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 7px 10px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, .12);
    background: rgba(255, 255, 255, .05);
    font-weight: 700;
}

.badge.big {
    padding: 10px 12px;
    background: linear-gradient(180deg, rgba(255, 214, 106, .16), rgba(78, 163, 255, .10));
    border: 1px solid rgba(255, 214, 106, .20);
}

.hint {
    margin-top: 6px;
    font-size: 12px;
    color: rgba(238, 243, 255, .70);
}

.identity-metrics {
    margin-top: 14px;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
}

.metric {
    padding: 12px;
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .04);
}

.mnum {
    font-size: 20px;
    font-weight: 900;
}

.mlbl {
    margin-top: 3px;
    font-size: 12px;
    color: rgba(238, 243, 255, .70);
}

.identity-actions {
    margin-top: 12px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.btn {
    border: 1px solid rgba(255, 255, 255, .14);
    background: rgba(255, 255, 255, .05);
    color: var(--text);
    padding: 10px 12px;
    border-radius: 14px;
    cursor: pointer;
    font-weight: 700;
    transition: .2s ease;
}

.btn:hover {
    transform: translateY(-1px);
    background: rgba(255, 255, 255, .07);
}

.btn.primary {
    border-color: rgba(78, 163, 255, .28);
    background: linear-gradient(180deg, rgba(78, 163, 255, .22), rgba(66, 246, 231, .10));
    box-shadow: 0 16px 44px rgba(78, 163, 255, .18);
}

.btn.ghost {
    background: rgba(255, 255, 255, .03);
}

.btn.sm {
    padding: 8px 10px;
    border-radius: 12px;
    font-size: 12px;
}

.policy-strip {
    margin-top: 12px;
    padding: 12px;
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .03);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
}

.policy-left {
    display: flex;
    gap: 10px;
    align-items: flex-start;
}

.lock {
    width: 34px;
    height: 34px;
    border-radius: 14px;
    display: grid;
    place-items: center;
    background: rgba(255, 255, 255, .05);
    border: 1px solid rgba(255, 255, 255, .10);
}

.ptxt .p1 {
    font-weight: 800;
}

.ptxt .p2 {
    margin-top: 4px;
    font-size: 12px;
    color: rgba(238, 243, 255, .72);
    max-width: 620px;
}

/* ---------- insights column ---------- */
.insights {
    display: grid;
    gap: 14px;
}

.insights .card {
    padding: 14px;
    border-radius: var(--r22);
}

.cardhead {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 10px;
    margin-bottom: 10px;
}

.h {
    font-weight: 900;
}

.mini {
    font-size: 12px;
    color: rgba(238, 243, 255, .72);
}

.journey {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 8px;
}

.step {
    border-radius: 16px;
    padding: 10px 8px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .03);
    text-align: center;
    position: relative;
}

.step .k {
    font-weight: 900;
    font-size: 14px;
}

.step .t {
    margin-top: 4px;
    font-size: 12px;
    color: rgba(238, 243, 255, .74);
}

.step.done {
    border-color: rgba(57, 229, 140, .20);
    background: rgba(57, 229, 140, .06);
}

.step.highlight {
    border-color: rgba(255, 214, 106, .26);
    background: linear-gradient(180deg, rgba(255, 214, 106, .10), rgba(78, 163, 255, .06));
}

.tag {
    position: absolute;
    top: -9px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 10px;
    padding: 3px 8px;
    border-radius: 999px;
    background: rgba(255, 214, 106, .18);
    border: 1px solid rgba(255, 214, 106, .22);
    color: rgba(255, 240, 210, .95);
}

.callout {
    margin-top: 10px;
    display: flex;
    gap: 10px;
    padding: 12px;
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .03);
}

.c-ico {
    width: 36px;
    height: 36px;
    border-radius: 14px;
    display: grid;
    place-items: center;
    background: rgba(255, 255, 255, .05);
    border: 1px solid rgba(255, 255, 255, .10);
}

.c1 {
    font-weight: 900;
}

.c2 {
    margin-top: 4px;
    font-size: 12px;
    color: rgba(238, 243, 255, .72);
}

.readiness .barrow {
    display: grid;
    grid-template-columns: 110px 1fr 50px;
    align-items: center;
    gap: 10px;
    padding: 8px 0;
}

.readiness .lbl {
    font-size: 12px;
    color: rgba(238, 243, 255, .78);
}

.bar {
    height: 10px;
    border-radius: 999px;
    background: rgba(255, 255, 255, .06);
    border: 1px solid rgba(255, 255, 255, .10);
    overflow: hidden;
}

.bar span {
    display: block;
    height: 100%;
    border-radius: 999px;
    background: linear-gradient(90deg, rgba(78, 163, 255, .85), rgba(66, 246, 231, .75), rgba(255, 214, 106, .55));
}

.pct {
    font-weight: 900;
    font-size: 12px;
    color: rgba(238, 243, 255, .85);
    text-align: left;
}

.readiness-actions {
    margin-top: 10px;
    display: flex;
    gap: 10px;
    justify-content: flex-end;
}

/* ---------- tabs ---------- */
.tabs-pro {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 18px 28px;
}

.tabs {
    margin-top: 10px;
    padding: 10px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    border-radius: var(--r22);
}

.tab {
    border: 1px solid transparent;
    background: transparent;
    color: rgba(238, 243, 255, .78);
    padding: 10px 12px;
    border-radius: 14px;
    cursor: pointer;
    font-weight: 800;
    transition: .2s ease;
}

.tab:hover {
    background: rgba(255, 255, 255, .05);
}

.tab.active {
    background: linear-gradient(180deg, rgba(78, 163, 255, .18), rgba(66, 246, 231, .08));
    border-color: rgba(78, 163, 255, .22);
    color: var(--text);
}

.tabs-right {
    display: flex;
    align-items: center;
    gap: 10px;
}

.search {
    position: relative;
    width: 320px;
}

.search input {
    width: 100%;
    padding: 10px 38px 10px 12px;
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, .12);
    background: rgba(255, 255, 255, .04);
    color: var(--text);
    outline: none;
}

.search input::placeholder {
    color: rgba(238, 243, 255, .52);
}

.sico {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    opacity: .65;
}

.select {
    padding: 10px 12px;
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, .12);
    background: rgba(255, 255, 255, .04);
    color: var(--text);
    outline: none;
}

.select.wide {
    width: 100%;
}

.select option {
    background: var(--bg2);
}

.panel {
    display: none;
    margin-top: 14px;
}

.panel.active {
    display: block;
}

.panel-grid {
    display: grid;
    grid-template-columns: 1.35fr .95fr;
    gap: 14px;
}

.panel .card {
    padding: 14px;
}

/* ---------- table ---------- */
.tablewrap {
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .10);
    overflow: hidden;
    background: rgba(255, 255, 255, .02);
}

.table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
}

.table thead th {
    text-align: right;
    padding: 12px 10px;
    color: rgba(238, 243, 255, .75);
    background: rgba(255, 255, 255, .03);
    border-bottom: 1px solid rgba(255, 255, 255, .08);
}

.table tbody td {
    padding: 12px 10px;
    border-bottom: 1px solid rgba(255, 255, 255, .06);
    color: rgba(238, 243, 255, .86);
}

.table tbody tr:hover {
    background: rgba(255, 255, 255, .03);
}

.td-right {
    text-align: left;
}

.pillbadge {
    display: inline-flex;
    padding: 6px 10px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, .12);
    background: rgba(255, 255, 255, .04);
    font-weight: 800;
    font-size: 12px;
}

.pillbadge.ok {
    border-color: rgba(57, 229, 140, .22);
    background: rgba(57, 229, 140, .06);
}

.pillbadge.warn {
    border-color: rgba(255, 214, 106, .22);
    background: rgba(255, 214, 106, .06);
}

.pillbadge.muted {
    opacity: .75;
}

.linkbtn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 8px 10px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, .12);
    background: rgba(255, 255, 255, .04);
    cursor: pointer;
    font-weight: 800;
    transition: .2s ease;
}

.linkbtn:hover {
    transform: translateY(-1px);
    background: rgba(255, 255, 255, .06);
}

/* ---------- workspace ---------- */
.workspace {
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .02);
    padding: 14px;
}

.wsicon {
    width: 48px;
    height: 48px;
    border-radius: 18px;
    display: grid;
    place-items: center;
    background: rgba(255, 255, 255, .04);
    border: 1px solid rgba(255, 255, 255, .10);
    margin-bottom: 10px;
}

.wstxt {
    color: rgba(238, 243, 255, .72);
}

.wshead {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 10px;
    margin-bottom: 12px;
}

.wstitle {
    font-weight: 900;
    font-size: 16px;
}

.wsmeta {
    margin-top: 4px;
    font-size: 12px;
    color: rgba(238, 243, 255, .72);
}

.wsactions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: flex-end;
}

.kanban {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
}

.col {
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .02);
    padding: 10px;
    min-height: 140px;
}

.colhead {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 8px;
}

.coltitle {
    font-weight: 900;
    font-size: 12px;
    color: rgba(238, 243, 255, .78);
}

.colcount {
    font-size: 12px;
    opacity: .7;
}

.cardtask {
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .03);
    padding: 10px;
    margin-top: 8px;
    cursor: grab;
}

.cardtask:active {
    cursor: grabbing;
}

.ctitle {
    font-weight: 900;
    font-size: 13px;
}

.cmeta {
    margin-top: 6px;
    font-size: 12px;
    color: rgba(238, 243, 255, .68);
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.chip {
    padding: 4px 8px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, .12);
    background: rgba(255, 255, 255, .04);
}

.notes {
    margin-top: 12px;
}

.nhead {
    font-weight: 900;
    margin-bottom: 8px;
}

.nlist {
    display: grid;
    gap: 8px;
}

.note {
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .03);
    padding: 10px;
}

.note .nt {
    color: rgba(238, 243, 255, .82);
    font-size: 13px;
}

.note .nm {
    margin-top: 6px;
    font-size: 12px;
    color: rgba(238, 243, 255, .62);
}

/* ---------- prototypes ---------- */
.proto-actions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-bottom: 10px;
}

.proto-list {
    display: grid;
    gap: 10px;
}

.protobox {
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .02);
    padding: 12px;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 10px;
}

.pbtitle {
    font-weight: 900;
}

.pbmeta {
    margin-top: 4px;
    font-size: 12px;
    color: rgba(238, 243, 255, .72);
}

.pbprogress {
    margin-top: 8px;
    height: 10px;
    border-radius: 999px;
    background: rgba(255, 255, 255, .06);
    border: 1px solid rgba(255, 255, 255, .10);
    overflow: hidden;
}

.pbprogress span {
    display: block;
    height: 100%;
    border-radius: 999px;
    background: linear-gradient(90deg, rgba(78, 163, 255, .85), rgba(66, 246, 231, .70), rgba(255, 214, 106, .55));
}

.pbactions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: flex-end;
}

/* ---------- support ---------- */
.support {
    display: grid;
    gap: 10px;
}

.support-card {
    padding: 12px;
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .02);
}

.sc1 {
    font-weight: 900;
}

.sc2 {
    margin-top: 6px;
    font-size: 12px;
    color: rgba(238, 243, 255, .74);
}

.sc3 {
    margin-top: 6px;
    font-size: 12px;
    color: rgba(238, 243, 255, .62);
}

.list {
    margin: 10px 0 0;
    padding: 0 18px;
    color: rgba(238, 243, 255, .76);
}

/* ---------- audit ---------- */
.audit {
    display: grid;
    gap: 10px;
}

.auditrow {
    padding: 12px;
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .02);
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 10px;
}

.a1 {
    font-weight: 900;
}

.a2 {
    margin-top: 4px;
    font-size: 12px;
    color: rgba(238, 243, 255, .72);
}

.atime {
    font-size: 12px;
    opacity: .7;
    white-space: nowrap;
}

/* ---------- nda ---------- */
.nda {
    display: grid;
    gap: 10px;
}

.check {
    display: flex;
    gap: 10px;
    align-items: flex-start;
    padding: 12px;
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .02);
}

.check input {
    margin-top: 4px;
    transform: scale(1.2);
}

.ndabtns {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.nda-state {
    padding: 10px 12px;
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .02);
    color: rgba(238, 243, 255, .78);
    font-weight: 800;
}

/* ---------- modal ---------- */
.modal {
    position: fixed;
    inset: 0;
    z-index: 90;
}

.modal.hidden {
    display: none;
}

.modal-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, .55);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

.modal-card {
    position: relative;
    max-width: 740px;
    margin: 8vh auto;
    border-radius: 22px;
    padding: 14px;
    border: 1px solid rgba(255, 255, 255, .12);
    box-shadow: var(--shadow);
}

.mhead {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
}

.mtitle {
    font-weight: 900;
}

.mgrid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

.field {
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .02);
    padding: 10px;
}

.lbl {
    font-size: 12px;
    color: rgba(238, 243, 255, .72);
    margin-bottom: 6px;
}

textarea {
    width: 100%;
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, .12);
    background: rgba(255, 255, 255, .04);
    color: var(--text);
    padding: 10px;
    outline: none;
    resize: vertical;
}

.mfoot {
    margin-top: 10px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
}

.mtext {
    padding: 12px;
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .02);
    color: rgba(238, 243, 255, .78);
    line-height: 1.8;
}

/* ---------- responsive ---------- */
@media (max-width: 1020px) {
    .hero-grid {
        grid-template-columns: 1fr;
    }

    .panel-grid {
        grid-template-columns: 1fr;
    }

    .journey {
        grid-template-columns: repeat(4, 1fr);
    }

    .identity-metrics {
        grid-template-columns: repeat(2, 1fr);
    }

    .search {
        width: 220px;
    }

    .kanban {
        grid-template-columns: 1fr 1fr;
    }
}

@media (max-width: 560px) {
    .nav {
        display: none;
    }

    .pill {
        display: none;
    }

    .search {
        width: 100%;
    }

    .tabs {
        flex-direction: column;
        align-items: stretch;
    }

    .tabs-right {
        width: 100%;
        flex-wrap: wrap;
    }

    .journey {
        grid-template-columns: repeat(2, 1fr);
    }

    .mgrid {
        grid-template-columns: 1fr;
    }
}

/* ---------------------------------------------
   Apple-inspired visual override
--------------------------------------------- */
:root {
    --apple-bg: #f5f5f7;
    --apple-bg-soft: #fafafc;
    --apple-fg: #1d1d1f;
    --apple-muted: #6e6e73;
    --apple-line: rgba(0, 0, 0, .08);
    --apple-line-strong: rgba(0, 0, 0, .14);
    --apple-card: rgba(255, 255, 255, .68);
    --apple-card-solid: rgba(255, 255, 255, .88);
    --apple-blue: #0071e3;
    --apple-blue-soft: #198cff;
    --apple-green: #2aa14a;
    --apple-amber: #ad7f00;
    --apple-shadow-sm: 0 8px 26px rgba(0, 0, 0, .08);
    --apple-shadow-md: 0 18px 42px rgba(0, 0, 0, .12);
    --apple-shadow-lg: 0 30px 70px rgba(0, 0, 0, .16);
    --apple-radius-xl: 28px;
    --apple-radius-lg: 22px;
    --apple-radius-md: 16px;
    --apple-font: "SF Pro Display", "SF Pro Text", "Tajawal", "Helvetica Neue", sans-serif;
}

body.is-dark {
    color: var(--apple-fg);
    font-family: var(--apple-font);
    background:
        radial-gradient(1100px 600px at 12% -12%, rgba(0, 113, 227, .12), transparent 58%),
        radial-gradient(900px 520px at 88% -5%, rgba(0, 113, 227, .08), transparent 55%),
        linear-gradient(180deg, #f7f7fa, #f1f2f6 44%, #eef0f5);
}

.glass {
    background: var(--apple-card);
    border: 1px solid var(--apple-line);
    box-shadow: var(--apple-shadow-sm);
    backdrop-filter: blur(20px) saturate(160%);
    -webkit-backdrop-filter: blur(20px) saturate(160%);
}

.card {
    border-radius: var(--apple-radius-lg);
}

.topbar-pro {
    background: rgba(248, 248, 252, .72);
    border-bottom: 1px solid var(--apple-line);
    box-shadow: 0 4px 20px rgba(0, 0, 0, .04);
    backdrop-filter: blur(18px) saturate(150%);
    -webkit-backdrop-filter: blur(18px) saturate(150%);
}

.brand .mark {
    background: linear-gradient(180deg, #eff7ff, #dfecff);
    border-color: rgba(0, 113, 227, .18);
    color: var(--apple-blue);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, .65);
}

.brand .txt .title {
    color: var(--apple-fg);
}

.brand .txt .sub {
    color: var(--apple-muted);
}

.nav {
    background: rgba(255, 255, 255, .62);
    border: 1px solid var(--apple-line);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5);
}

.navlink {
    color: #414146;
    border: 1px solid transparent;
}

.navlink:hover {
    background: rgba(0, 0, 0, .04);
}

.navlink.active {
    color: var(--apple-blue);
    background: rgba(0, 113, 227, .10);
    border-color: rgba(0, 113, 227, .18);
}

.pill {
    color: #3d3d40;
    background: rgba(255, 255, 255, .70);
    border-color: var(--apple-line);
}

.dot {
    background: #36b24a;
    box-shadow: 0 0 0 6px rgba(54, 178, 74, .14), 0 0 16px rgba(54, 178, 74, .25);
}

.iconbtn {
    background: rgba(255, 255, 255, .76);
    color: var(--apple-fg);
    border-color: var(--apple-line);
}

.iconbtn:hover {
    box-shadow: var(--apple-shadow-sm);
}

.hero-pro {
    padding-top: 26px;
}

.hero-bg {
    opacity: .35;
    background:
        radial-gradient(800px 420px at 22% 0%, rgba(0, 113, 227, .16), transparent 55%),
        radial-gradient(720px 420px at 78% 10%, rgba(0, 113, 227, .08), transparent 55%);
}

.identity {
    background: var(--apple-card-solid);
    border: 1px solid var(--apple-line);
    box-shadow: var(--apple-shadow-md);
}

.identity::before {
    opacity: .42;
    filter: blur(24px);
    background:
        radial-gradient(520px 220px at 18% 0%, rgba(0, 113, 227, .16), transparent 60%),
        radial-gradient(620px 240px at 74% 108%, rgba(0, 113, 227, .08), transparent 58%);
}

.avatar {
    background: linear-gradient(180deg, #f5faff, #eaf3ff);
    color: var(--apple-blue);
    border-color: rgba(0, 113, 227, .2);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, .75);
}

.name {
    color: var(--apple-fg);
}

.meta,
.hint,
.mini,
.mlbl,
.c2,
.ptxt .p2,
.readiness .lbl,
.pct,
.table thead th,
.table tbody td,
.pbmeta,
.a2,
.atime,
.lbl,
.mtext,
.wstxt,
.wsmeta,
.note .nm,
.cmeta,
.coltitle {
    color: var(--apple-muted);
}

.badge,
.pillbadge,
.chip {
    color: #3b3b3d;
    border-color: var(--apple-line);
    background: rgba(255, 255, 255, .80);
}

.badge.big {
    color: #253447;
    background: linear-gradient(180deg, rgba(0, 113, 227, .14), rgba(25, 140, 255, .08));
    border-color: rgba(0, 113, 227, .22);
}

.metric,
.policy-strip,
.callout,
.workspace,
.col,
.cardtask,
.note,
.protobox,
.support-card,
.auditrow,
.check,
.nda-state,
.field,
.tablewrap {
    background: rgba(255, 255, 255, .74);
    border-color: var(--apple-line);
}

.metric {
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, .7);
}

.mnum,
.h,
.c1,
.wstitle,
.pbtitle,
.a1,
.nhead,
.sc1,
.mtitle {
    color: var(--apple-fg);
}

.journey .step {
    border-color: var(--apple-line);
    background: rgba(255, 255, 255, .70);
}

.journey .step.done {
    border-color: rgba(42, 161, 74, .24);
    background: rgba(42, 161, 74, .10);
}

.journey .step.highlight {
    border-color: rgba(0, 113, 227, .22);
    background: rgba(0, 113, 227, .12);
}

.tag {
    color: #0a427f;
    border-color: rgba(0, 113, 227, .26);
    background: rgba(0, 113, 227, .13);
}

.bar,
.pbprogress {
    background: rgba(0, 0, 0, .06);
    border-color: rgba(0, 0, 0, .08);
}

.bar span,
.pbprogress span {
    background: linear-gradient(90deg, var(--apple-blue), var(--apple-blue-soft));
}

.tabs {
    border-radius: var(--apple-radius-xl);
    background: rgba(255, 255, 255, .72);
    border-color: var(--apple-line);
}

.tab {
    color: #505058;
    border-color: transparent;
}

.tab:hover {
    background: rgba(0, 0, 0, .04);
}

.tab.active {
    color: var(--apple-blue);
    background: rgba(0, 113, 227, .10);
    border: 1px solid rgba(0, 113, 227, .2);
}

.search input,
.select,
textarea,
.field input,
.field select {
    color: var(--apple-fg);
    border-color: var(--apple-line);
    background: rgba(255, 255, 255, .84);
}

.search input::placeholder,
textarea::placeholder {
    color: #8e8e93;
}

.btn {
    color: #202023;
    background: rgba(255, 255, 255, .86);
    border: 1px solid var(--apple-line);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, .7);
}

.btn:hover {
    background: #fff;
    border-color: var(--apple-line-strong);
    box-shadow: var(--apple-shadow-sm);
}

.btn.primary {
    color: #fff;
    border-color: #0068d1;
    background: linear-gradient(180deg, #1b8bff, #0071e3);
    box-shadow: 0 10px 26px rgba(0, 113, 227, .3);
}

.btn.primary:hover {
    background: linear-gradient(180deg, #3a9cff, #0085ff);
}

.btn.ghost {
    background: rgba(255, 255, 255, .64);
}

.linkbtn {
    color: #26313f;
    border-color: var(--apple-line);
    background: rgba(255, 255, 255, .82);
}

.table tbody tr:hover {
    background: rgba(0, 113, 227, .05);
}

.table tbody tr td {
    color: #2a2a2d;
}

.pillbadge.ok,
.badge.ok {
    color: #195f2d;
    border-color: rgba(42, 161, 74, .26);
    background: rgba(42, 161, 74, .12);
}

.pillbadge.warn,
.badge.warn {
    color: #7b5a00;
    border-color: rgba(173, 127, 0, .26);
    background: rgba(173, 127, 0, .12);
}

.pillbadge.muted,
.badge.muted {
    color: #4f4f54;
}

.modal-backdrop {
    background: rgba(30, 30, 36, .24);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
}

.modal-card {
    background: rgba(255, 255, 255, .84);
    border: 1px solid var(--apple-line);
    box-shadow: var(--apple-shadow-lg);
}

.mtext {
    background: rgba(255, 255, 255, .82);
    color: #343437;
}

.nda-state {
    color: #2e2e34;
}

.nda-state.ok {
    border-color: rgba(42, 161, 74, .26);
    background: rgba(42, 161, 74, .12);
}

.nda-state.warn {
    border-color: rgba(173, 127, 0, .28);
    background: rgba(173, 127, 0, .12);
}

.table,
.select,
.search input,
.btn,
.linkbtn,
.cardtask,
.protobox,
.support-card,
.auditrow {
    transition: all .22s ease;
}

@media (max-width: 1020px) {
    .hero-pro {
        padding-top: 16px;
    }

    .identity {
        padding: 14px;
    }

    .tabs {
        border-radius: 20px;
    }
}

@media (max-width: 560px) {
    .hero-pro,
    .tabs-pro {
        padding-inline: 12px;
    }

    .identity-actions,
    .readiness-actions,
    .wsactions,
    .proto-actions,
    .pbactions,
    .ndabtns {
        width: 100%;
    }

    .btn,
    .btn.sm {
        width: 100%;
        justify-content: center;
    }

    .tablewrap {
        overflow-x: auto;
    }

    .table {
        min-width: 640px;
    }

    .modal-card {
        margin: 4vh 12px;
    }
}

/* ---------- micro UX enhancements ---------- */
body.modal-open {
    overflow: hidden;
}

.table tbody tr.is-selected td {
    background: rgba(0, 113, 227, .10) !important;
    border-top: 1px solid rgba(0, 113, 227, .20);
    border-bottom: 1px solid rgba(0, 113, 227, .20);
}

.table tbody tr.is-selected td:first-child {
    box-shadow: inset 3px 0 0 rgba(0, 113, 227, .72);
}

.toast-host {
    position: fixed;
    left: 16px;
    bottom: 16px;
    display: grid;
    gap: 8px;
    z-index: 220;
    max-width: min(420px, 92vw);
}

.toast {
    border: 1px solid rgba(0, 0, 0, .12);
    border-radius: 12px;
    padding: 10px 12px;
    box-shadow: 0 14px 38px rgba(0, 0, 0, .16);
    background: rgba(255, 255, 255, .94);
    color: #1f2937;
    font-size: 13px;
    font-weight: 700;
    transition: opacity .18s ease, transform .18s ease;
}

.toast.info {
    border-color: rgba(0, 113, 227, .24);
}

.toast.success {
    border-color: rgba(42, 161, 74, .30);
}

.toast.warn {
    border-color: rgba(173, 127, 0, .36);
}

.toast.out {
    opacity: 0;
    transform: translateY(6px);
}

/* ---------- style refinement v2 ---------- */
body.is-dark::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    background:
        radial-gradient(680px 360px at 16% -6%, rgba(0, 113, 227, .12), transparent 62%),
        radial-gradient(700px 360px at 86% -8%, rgba(61, 157, 255, .08), transparent 60%);
}

.topbar-pro,
.hero-pro,
.tabs-pro {
    position: relative;
    z-index: 1;
}

.hero-grid,
.tabs-pro {
    max-width: 1240px;
}

.topbar-pro {
    padding: 12px 18px;
    border-bottom-color: rgba(0, 0, 0, .09);
}

.brand .txt .title {
    font-size: 17px;
    letter-spacing: .1px;
}

.brand .txt .sub {
    font-size: 11px;
}

.cardhead .h {
    letter-spacing: .12px;
}

.cardhead .mini {
    font-size: 11px;
}

.identity-actions .btn,
.readiness-actions .btn,
.wsactions .btn,
.proto-actions .btn,
.pbactions .btn,
.ndabtns .btn {
    min-height: 40px;
}

.btn,
.linkbtn,
.tab,
.iconbtn,
.navlink,
.cardtask,
.protobox,
.auditrow,
.metric,
.support-card,
.table tbody tr {
    transition:
        transform .22s ease,
        box-shadow .24s ease,
        border-color .24s ease,
        background-color .24s ease,
        opacity .2s ease;
}

.btn {
    font-weight: 800;
    letter-spacing: .1px;
}

.btn:active,
.linkbtn:active,
.iconbtn:active,
.tab:active {
    transform: translateY(1px) scale(.99);
}

.btn:focus-visible,
.linkbtn:focus-visible,
.iconbtn:focus-visible,
.tab:focus-visible,
.search input:focus-visible,
.select:focus-visible,
textarea:focus-visible,
.field input:focus-visible,
.field select:focus-visible {
    outline: none;
    box-shadow: 0 0 0 4px rgba(0, 113, 227, .16);
    border-color: rgba(0, 113, 227, .42);
}

.navlink {
    font-size: 13px;
    font-weight: 700;
}

.navlink:hover {
    transform: translateY(-1px);
}

.identity,
.insights .card,
.panel .card {
    box-shadow: 0 14px 38px rgba(17, 24, 39, .10), inset 0 1px 0 rgba(255, 255, 255, .72);
}

.metric:hover,
.support-card:hover,
.auditrow:hover,
.protobox:hover,
.workspace:hover {
    transform: translateY(-2px);
    box-shadow: 0 14px 34px rgba(17, 24, 39, .12);
}

.journey .step {
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, .72);
}

.search input,
.select,
textarea,
.field input,
.field select {
    min-height: 42px;
    border-radius: 14px;
}

.search input {
    padding-inline-end: 42px;
}

.tablewrap {
    border-radius: 20px;
}

.table thead th {
    position: sticky;
    top: 0;
    z-index: 2;
    font-size: 12px;
    letter-spacing: .12px;
}

.table tbody tr:nth-child(even):not(.is-selected) td {
    background: rgba(0, 0, 0, .02);
}

.table tbody tr:hover td {
    background: rgba(0, 113, 227, .06);
}

.table tbody tr.is-selected td:first-child {
    box-shadow: inset -3px 0 0 rgba(0, 113, 227, .72);
}

.modal-backdrop {
    background: rgba(17, 24, 39, .28);
}

.modal-card {
    border-radius: 26px;
    max-width: 760px;
}

.toast {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

@keyframes soft-rise {
    from {
        opacity: 0;
        transform: translateY(12px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.identity,
.insights .card,
.tabs,
.panel .card {
    animation: soft-rise .42s ease both;
}

.insights .card:nth-child(2) {
    animation-delay: .06s;
}

.panel .card {
    animation-delay: .08s;
}

@media (max-width: 1020px) {
    .topbar-pro {
        gap: 10px;
        padding: 12px 14px;
    }

    .hero-pro {
        padding-top: 14px;
    }

    .tabs-pro {
        padding-bottom: 20px;
    }
}

@media (max-width: 560px) {
    .topbar-pro {
        flex-wrap: wrap;
    }

    .nav {
        order: 3;
        width: 100%;
        display: flex !important;
        overflow-x: auto;
        white-space: nowrap;
        scrollbar-width: none;
    }

    .nav::-webkit-scrollbar {
        display: none;
    }

    .navlink {
        flex: 0 0 auto;
        font-size: 12px;
        padding: 8px 10px;
    }

    .right {
        margin-inline-start: auto;
    }

    .hero-grid {
        gap: 10px;
    }

    .identity,
    .insights .card,
    .panel .card,
    .tabs {
        border-radius: 18px;
    }

    .table {
        min-width: 680px;
    }

    .toast-host {
        left: 10px;
        right: 10px;
        bottom: 10px;
        max-width: none;
    }
}
